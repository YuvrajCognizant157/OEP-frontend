<div class="manage-container">
  <div class="header">
    <h2>Manage Your Questions</h2>
    <button mat-raised-button color="primary" (click)="openAddQuestionDialog()" class="add-question-btn">
      <mat-icon>add_circle_outline</mat-icon> Add New Question
    </button>
  </div>

  <mat-divider></mat-divider>

  <div *ngIf="isLoading" class="loading">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="!isLoading && questions.length === 0" class="no-data">
    <mat-icon class="no-data-icon">lightbulb_outline</mat-icon>
    <p>No questions found. Click 'Add New Question' to get started!</p>
  </div>

  <div *ngIf="!isLoading && questions.length > 0" class="question-grid">
    <mat-card *ngFor="let q of questions" class="question-card">
      
      <div class="card-header-content">
        <mat-card-title>
          <span class="question-title-text">
            {{ (q.questionName | slice:0:70) + (q.questionName.length > 70 ? '....' : '') }}
          </span>
        </mat-card-title>
        
        <div class="card-metadata">
          <span class="metadata-item question-type">
            <mat-icon>category</mat-icon> {{ q.questionType ? (q.questionType | uppercase) : "N/A" }}
          </span>
          <span class="metadata-item question-id">
            <mat-icon>vpn_key</mat-icon> {{ q.questionId || "N/A" }}
          </span>
        </div>
      </div>

      <mat-divider></mat-divider>

      <mat-card-actions align="end" class="card-actions-group">
        <button mat-button color="primary" (click)="updateQuestion(q.questionId)" class="action-btn update-btn">
          <mat-icon>edit</mat-icon> Update
        </button>
        <button mat-button color="warn" (click)="deleteQuestion(q.questionId)" class="action-btn delete-btn">
          <mat-icon>delete</mat-icon> Delete
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <mat-paginator
    [length]="totalQuestions"
    [pageSize]="pageSize"
    [pageSizeOptions]="[5, 10, 20]"
    (page)="onPageChange($event)">
  </mat-paginator>
</div>