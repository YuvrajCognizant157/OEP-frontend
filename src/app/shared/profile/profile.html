<div class="profile-container" *ngIf="profileForm">
  <h3>User Profile</h3>
  <form [formGroup]="profileForm" class="form-element">

    <div class="form-grid">
      
      <div class="form-group">
        <label>Full Name:</label>
        <div class="input-wrapper">
          <input formControlName="fullName" [readonly]="!isEditing" />
          <div *ngIf="profileForm.get('fullName')?.invalid && profileForm.get('fullName')?.touched" class="error-message">
            <span *ngIf="profileForm.get('fullName')?.errors?.['required']">Full Name is required.</span>
            <span *ngIf="profileForm.get('fullName')?.errors?.['minlength']">Must be at least 2 characters.</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Date of Birth:</label>
        <div class="input-wrapper">
          <input type="date" formControlName="dob" [readonly]="!isEditing" />
          <div *ngIf="profileForm.get('dob')?.invalid && profileForm.get('dob')?.touched" class="error-message">
            Date of Birth is required.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Role:</label>
        <div class="input-wrapper">
            <input formControlName="role" readonly />
        </div>
      </div>

      <div class="form-group">
        <label>Phone Number:</label>
        <div class="input-wrapper">
          <input type="tel" formControlName="phoneNo" [readonly]="!isEditing" />
          <div *ngIf="profileForm.get('phoneNo')?.invalid && profileForm.get('phoneNo')?.touched" class="error-message">
            <span *ngIf="profileForm.get('phoneNo')?.errors?.['required']">Phone number is required.</span>
            <span *ngIf="profileForm.get('phoneNo')?.errors?.['pattern']">Must be a 10-digit number.</span>
          </div>
        </div>
      </div>

      @if(registrationDate()){
        <div class="form-group">
            <label>Registration Date:</label>
            <input type="text" formControlName="registrationDate" readonly />
        </div>
      }
      
      
      

    </div> 

    <div class="button-container">
      <button type="button" *ngIf="!isEditing" (click)="enableEdit()">Edit</button>
      <button type="button" *ngIf="isEditing" (click)="saveChanges()">Save</button>
    </div>

  </form>
</div>